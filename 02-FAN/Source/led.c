/*********************************************************************************************
* 文件：led.c
* 作者：fuyou 2018.12.5
* 说明：绿色家居LED灯驱动代码
* 修改：
* 注释：
*********************************************************************************************/

/*********************************************************************************************
* 头文件
*********************************************************************************************/
#include "led.h"

/*********************************************************************************************
* 名称：led_init()
* 功能：LED控制引脚初始化
* 参数：无
* 返回：无
* 修改：
* 注释：
*********************************************************************************************/
void led_init(void)
{
    P1SEL &= ~(1<<0);                                           //普通 I/O 口
    P1DIR |= (1<<0);                                            //输出
    
    P1SEL &= ~(1<<1);                                           //普通 I/O 口
    P1DIR |= (1<<1);                                            //输出
    
    LED6 = 1;                                                   //关LED
    LED5 = 1;
}

/*********************************************************************************************
* 名称：led_on()
* 功能：LED控制打开函数
* 参数：LED号，在led.h中宏定义
* 返回：0，打开LED成功，-1，参数错误
* 修改：
* 注释：
*********************************************************************************************/
signed char led_on(unsigned char led)
{
    if(led&0x01)                                                //如果要打开LED6
    {
        LED6=LED_ON;
        return 0;
    }

    if(led&0x02)                                                //如果要打开LED5
    {
        LED5=LED_ON;
        return 0;
    }
    
    return -1;                                                  //参数错误，返回-1
}

/*********************************************************************************************
* 名称：led_off()
* 功能：LED控制关闭函数
* 参数：LED号，在led.h中宏定义
* 返回：0，关闭LED成功，-1，参数错误
* 修改：
* 注释：
*********************************************************************************************/
signed char led_off(unsigned char led)
{
    if(led&0x01)                                                //如果要关闭LED6
    {
        LED6=LED_OFF;
        return 0;
    }

    if(led&0x02)                                                //如果要关闭LED5
    {
        LED5=LED_OFF;
        return 0;
    }
    
    return -1;                                                  //参数错误，返回-1
}